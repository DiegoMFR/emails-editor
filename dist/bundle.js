!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";function i(){return Math.floor(10*Math.random())}n.r(e);class s extends HTMLElement{constructor(){super(),this.handleKey=t=>{switch(t.keyCode){case 44:case 32:case 13:t.preventDefault(),this.populateArea(),this.textInput.focus()}},this.handleBlur=()=>{this.populateArea()},this.handlePaste=()=>{window.setTimeout(()=>{this.populateArea(),this.textInput.focus()},5)},this.handleAreaClick=t=>{t.target===this.textarea&&this.textInput.focus()},this.populateArea=()=>{var t;this.textInput.value.length&&(this.textInput.remove(),this.textarea.innerHTML+=(t=this.textInput.value,t.split(/[\s, ]+/).filter(t=>t.length>0&&"â€‹"!==t).map(t=>`<email-item${function(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}(t)?"":' class="invalid"'}>\n                    <span>${t}</span>\n                    <i class="close">&#215</i>\n                </email-item>`).join("")),this.textInput.value="",this.textInput.setAttribute("placeholder","add more people..."),this.textarea.appendChild(this.textInput),this.dispatchEvent(this.editorChangeEvt))},this.getEmailsCount=function(){return this.querySelectorAll("email-item:not(.invalid)").length},this.addEmail=function(){this.textInput.value=`${["bgates","sjobs","jbezos","mzuckerberg","emusk","toreilly","lpage","jive","rstallman","ltrovalds"][i()]}@${["gmail","microsoft","miro","facebook","linkedin","amazon","tesla","medium","linux","apple"][i()]}.com`,this.populateArea()},this.innerHTML='<div class="text-area">\n            <input type="text" placeholder="Add people..."></input>\n        </div>',this.textarea=this.querySelector("div"),this.textInput=this.querySelector("input"),this.textInput.addEventListener("blur",this.handleBlur),this.textInput.addEventListener("keypress",this.handleKey),this.textInput.addEventListener("paste",this.handlePaste),this.textarea.addEventListener("click",this.handleAreaClick),this.editorChangeEvt=new CustomEvent("editor:change"),this.textInput.focus()}}class r extends HTMLElement{constructor(){super(),this.closeClickHandler=()=>{this.remove()},this.querySelector(".close").addEventListener("click",this.closeClickHandler)}}n(0);window.customElements.define("email-editor",s),window.customElements.define("email-item",r)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2VtYWlsLWVkaXRvci9lbWFpbC1lZGl0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZW1haWwtaXRlbS9lbWFpbC1pdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImdldFJhbmRvbURpZ2l0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiSFRNTEVsZW1lbnQiLCJzdXBlciIsImhhbmRsZUtleSIsImUiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJ0aGlzIiwicG9wdWxhdGVBcmVhIiwidGV4dElucHV0IiwiZm9jdXMiLCJoYW5kbGVCbHVyIiwiaGFuZGxlUGFzdGUiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwiaGFuZGxlQXJlYUNsaWNrIiwidGFyZ2V0IiwidGV4dGFyZWEiLCJ0ZXh0IiwibGVuZ3RoIiwicmVtb3ZlIiwiaW5uZXJIVE1MIiwic3BsaXQiLCJmaWx0ZXIiLCJlbCIsIm1hcCIsImVtYWlsIiwidGVzdCIsImlzVmFsaWRFbWFpbCIsImpvaW4iLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImRpc3BhdGNoRXZlbnQiLCJlZGl0b3JDaGFuZ2VFdnQiLCJnZXRFbWFpbHNDb3VudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFbWFpbCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiQ3VzdG9tRXZlbnQiLCJFbWFpbEl0ZW0iLCJjbG9zZUNsaWNrSGFuZGxlciIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9yQixFQUFvQlUsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnpCLEVBQW9CNkIsRUFBSSxTQUFTMUIsR0FDaEMsSUFBSVMsRUFBU1QsR0FBVUEsRUFBT3FCLFdBQzdCLFdBQXdCLE9BQU9yQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSCxFQUFvQlUsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlosRUFBb0JhLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHL0IsRUFBb0JrQyxFQUFJLEdBSWpCbEMsRUFBb0JBLEVBQW9CbUMsRUFBSSxHLGlEQ2xFMUMsU0FBU0MsSUFDYixPQUFPQyxLQUFLQyxNQUFzQixHQUFoQkQsS0FBS0UsVSxPQ2hCZixNQUFNLFVBQW9CQyxZQUVyQyxjQUNJQyxRQW1CSSxLQUFBQyxVQUFhQyxJQUNqQixPQUFRQSxFQUFFQyxTQUNOLEtBQUssR0FDTCxLQUFLLEdBQ0wsS0FBSyxHQUNERCxFQUFFRSxpQkFDRkMsS0FBS0MsZUFDTEQsS0FBS0UsVUFBVUMsVUFPbkIsS0FBQUMsV0FBYSxLQUNqQkosS0FBS0MsZ0JBSUQsS0FBQUksWUFBYyxLQUNsQkMsT0FBT0MsV0FBVyxLQUNkUCxLQUFLQyxlQUNMRCxLQUFLRSxVQUFVQyxTQUNoQixJQUlDLEtBQUFLLGdCQUFtQlgsSUFDbkJBLEVBQUVZLFNBQVdULEtBQUtVLFVBQ2xCVixLQUFLRSxVQUFVQyxTQUlmLEtBQUFGLGFBQWUsS0RuRGhCLElBSnlCVSxFQ3dEeEJYLEtBQUtFLFVBQVUzQixNQUFNcUMsU0FHekJaLEtBQUtFLFVBQVVXLFNBQ2ZiLEtBQUtVLFNBQVNJLFlENURjSCxFQzREK0JYLEtBQUtFLFVBQVUzQixNRDNEbkVvQyxFQUFLSSxNQUFNLFdBQVdDLE9BQU9DLEdBQU1BLEVBQUdMLE9BQVMsR0FBWSxNQUFQSyxHQUtoREMsSUFBS0MsR0FBVSxjQWF2QixTQUFzQkEsR0FDekIsTUFBTyw2QkFBNkJDLEtBQUtELEdBYm5CRSxDQUFhRixHQUFRLEdBQUssa0RBQzVCQSwyRkFHYkcsS0FBSyxLQ2tEWnRCLEtBQUtFLFVBQVUzQixNQUFRLEdBQ3ZCeUIsS0FBS0UsVUFBVXFCLGFBQWEsY0FBZSxzQkFDM0N2QixLQUFLVSxTQUFTYyxZQUFZeEIsS0FBS0UsV0FDL0JGLEtBQUt5QixjQUFjekIsS0FBSzBCLG1CQUdyQixLQUFBQyxlQUFpQixXQUNwQixPQUFPM0IsS0FBSzRCLGlCQUFpQiw0QkFBNEJoQixRQUl0RCxLQUFBaUIsU0FBVyxXQUNkN0IsS0FBS0UsVUFBVTNCLE1EN0NSLEdBSlEsQ0FBQyxTQUFVLFFBQVMsU0FBVSxjQUM3QyxRQUFTLFdBQVksUUFBUyxPQUFRLFlBQWEsYUFHbENlLFFBRkQsQ0FBQyxRQUFTLFlBQWEsT0FBUSxXQUFZLFdBQzNELFNBQVUsUUFBUyxTQUFVLFFBQVMsU0FDUUEsV0M4QzlDVSxLQUFLQyxnQkF0RUxELEtBQUtjLFVBQVksK0dBR2pCZCxLQUFLVSxTQUFXVixLQUFLOEIsY0FBYyxPQUNuQzlCLEtBQUtFLFVBQVlGLEtBQUs4QixjQUFjLFNBQ3BDOUIsS0FBS0UsVUFBVTZCLGlCQUFpQixPQUFRL0IsS0FBS0ksWUFDN0NKLEtBQUtFLFVBQVU2QixpQkFBaUIsV0FBWS9CLEtBQUtKLFdBQ2pESSxLQUFLRSxVQUFVNkIsaUJBQWlCLFFBQVMvQixLQUFLSyxhQUM5Q0wsS0FBS1UsU0FBU3FCLGlCQUFpQixRQUFTL0IsS0FBS1EsaUJBQzdDUixLQUFLMEIsZ0JBQWtCLElBQUlNLFlBQVksaUJBQ3ZDaEMsS0FBS0UsVUFBVUMsU0NmUixNQUFNOEIsVUFBa0J2QyxZQUVuQyxjQUNJQyxRQUdJLEtBQUF1QyxrQkFBb0IsS0FDeEJsQyxLQUFLYSxVQUhMYixLQUFLOEIsY0FBYyxVQUFVQyxpQkFBaUIsUUFBUy9CLEtBQUtrQyxvQixLQ0FwRTVCLE9BQU82QixlQUFlQyxPQUFPLGVBQWdCLEdBQzdDOUIsT0FBTzZCLGVBQWVDLE9BQU8sYUFBY0giLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZVN0cmluZyh0ZXh0OiBzdHJpbmcpOnN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIHRleHQuc3BsaXQoL1tcXHMsIF0rLykuZmlsdGVyKGVsID0+IGVsLmxlbmd0aCA+IDAgJiYgZWwgIT09IFwi4oCLXCIpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBwYXJzZUVtYWlsc0h0bWwoZW1haWxzOiBzdHJpbmdbXSk6c3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGVtYWlscy5tYXAoKGVtYWlsKSA9PiAoXG4gICAgICAgICAgICAgICAgYDxlbWFpbC1pdGVtJHtpc1ZhbGlkRW1haWwoZW1haWwpPyAnJyA6ICcgY2xhc3M9XCJpbnZhbGlkXCInfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+JHtlbWFpbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiY2xvc2VcIj4mIzIxNTwvaT5cbiAgICAgICAgICAgICAgICA8L2VtYWlsLWl0ZW0+YFxuICAgICAgICAgICAgKSkuam9pbignJylcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tRGlnaXQoKTpudW1iZXIge1xuICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRFbWFpbChlbWFpbDpzdHJpbmcpOmJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC8udGVzdChlbWFpbCk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUVtYWlsKCk6c3RyaW5nIHtcbiAgICAgICAgY29uc3QgcGVvcGxlID0gWydiZ2F0ZXMnLCAnc2pvYnMnLCAnamJlem9zJywgJ216dWNrZXJiZXJnJywgXG4gICAgICAgICdlbXVzaycsICd0b3JlaWxseScsICdscGFnZScsICdqaXZlJywgJ3JzdGFsbG1hbicsICdsdHJvdmFsZHMnXTtcbiAgICAgICAgY29uc3QgZG9tYWlucyA9IFsnZ21haWwnLCAnbWljcm9zb2Z0JywgJ21pcm8nLCAnZmFjZWJvb2snLCAnbGlua2VkaW4nLFxuICAgICAgICAnYW1hem9uJywgJ3Rlc2xhJywgJ21lZGl1bScsICdsaW51eCcsICdhcHBsZSddO1xuICAgICAgICByZXR1cm4gYCR7cGVvcGxlW2dldFJhbmRvbURpZ2l0KCldfUAke2RvbWFpbnNbZ2V0UmFuZG9tRGlnaXQoKV19LmNvbWA7XG4gICAgfSIsImltcG9ydCB7IHNlcmlhbGl6ZVN0cmluZywgcGFyc2VFbWFpbHNIdG1sLCBnZXRSYW5kb21FbWFpbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVtYWlsRWRpdG9yIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJ0ZXh0LWFyZWFcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiQWRkIHBlb3BsZS4uLlwiPjwvaW5wdXQ+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICAgIHRoaXMudGV4dGFyZWEgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2RpdicpO1xuICAgICAgICB0aGlzLnRleHRJbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgdGhpcy50ZXh0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuaGFuZGxlQmx1cik7XG4gICAgICAgIHRoaXMudGV4dElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5oYW5kbGVLZXkpO1xuICAgICAgICB0aGlzLnRleHRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIHRoaXMuaGFuZGxlUGFzdGUpO1xuICAgICAgICB0aGlzLnRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVBcmVhQ2xpY2spO1xuICAgICAgICB0aGlzLmVkaXRvckNoYW5nZUV2dCA9IG5ldyBDdXN0b21FdmVudCgnZWRpdG9yOmNoYW5nZScpO1xuICAgICAgICB0aGlzLnRleHRJbnB1dC5mb2N1cygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdGV4dGFyZWE6IEhUTUxEaXZFbGVtZW50O1xuICAgIHByaXZhdGUgdGV4dElucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHByaXZhdGUgZWRpdG9yQ2hhbmdlRXZ0OiBDdXN0b21FdmVudDtcblxuXG4gICAgcHJpdmF0ZSBoYW5kbGVLZXkgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICAgICAgY2FzZSA0NDovL2NvbW1hXG4gICAgICAgICAgICBjYXNlIDMyOi8vc3BhY2VcbiAgICAgICAgICAgIGNhc2UgMTM6Ly9lbnRlclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVsYXRlQXJlYSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dElucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVCbHVyID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnBvcHVsYXRlQXJlYSgpO1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVQYXN0ZSA9ICgpID0+IHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wb3B1bGF0ZUFyZWEoKTtcbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0LmZvY3VzKCk7XG4gICAgICAgIH0sIDUpO1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVBcmVhQ2xpY2sgPSAoZTpVSUV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy50ZXh0YXJlYSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0SW5wdXQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcG9wdWxhdGVBcmVhID0gKCkgPT4ge1xuICAgICAgICBpZighdGhpcy50ZXh0SW5wdXQudmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0SW5wdXQucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MICs9IHBhcnNlRW1haWxzSHRtbChzZXJpYWxpemVTdHJpbmcodGhpcy50ZXh0SW5wdXQudmFsdWUpKTtcbiAgICAgICAgdGhpcy50ZXh0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgdGhpcy50ZXh0SW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdhZGQgbW9yZSBwZW9wbGUuLi4nKTtcbiAgICAgICAgdGhpcy50ZXh0YXJlYS5hcHBlbmRDaGlsZCh0aGlzLnRleHRJbnB1dCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLmVkaXRvckNoYW5nZUV2dCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVtYWlsc0NvdW50ID0gZnVuY3Rpb24oKTpudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdlbWFpbC1pdGVtOm5vdCguaW52YWxpZCknKS5sZW5ndGg7XG4gICAgfTtcbiAgICBcblxuICAgIHB1YmxpYyBhZGRFbWFpbCA9IGZ1bmN0aW9uKCk6dm9pZCB7XG4gICAgICAgIHRoaXMudGV4dElucHV0LnZhbHVlID0gZ2V0UmFuZG9tRW1haWwoKTtcbiAgICAgICAgdGhpcy5wb3B1bGF0ZUFyZWEoKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBFbWFpbEl0ZW0gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcuY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VDbGlja0hhbmRsZXIpO1xuICAgIH1cbiAgICBwcml2YXRlIGNsb3NlQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgIH1cbn0iLCJpbXBvcnQgRW1haWxFZGl0b3IgZnJvbSAnLi9jb21wb25lbnRzL2VtYWlsLWVkaXRvci9lbWFpbC1lZGl0b3InO1xuaW1wb3J0IEVtYWlsSXRlbSBmcm9tICcuL2NvbXBvbmVudHMvZW1haWwtaXRlbS9lbWFpbC1pdGVtJ1xuaW1wb3J0ICcuL3N0eWxlcy9zdHlsZXMuc2Nzcyc7XG5cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2VtYWlsLWVkaXRvcicsIEVtYWlsRWRpdG9yKTtcbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2VtYWlsLWl0ZW0nLCBFbWFpbEl0ZW0pOyJdLCJzb3VyY2VSb290IjoiIn0=