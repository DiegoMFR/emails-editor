!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";function i(){return Math.floor(10*Math.random())}n.r(e);class s extends HTMLElement{constructor(){super(),this.handleKey=t=>{switch(t.keyCode){case 44:case 32:case 13:t.preventDefault(),this.populateArea(),this.textInput.focus()}},this.handleBlur=()=>{this.populateArea()},this.handlePaste=()=>{window.setTimeout(()=>{this.populateArea(),this.textInput.focus()},5)},this.handleAreaClick=t=>{t.target===this.textarea&&this.textInput.focus()},this.populateArea=()=>{var t;this.textInput.value.length&&(this.textInput.remove(),this.textarea.innerHTML+=(t=this.textInput.value,t.split(/[\s, ]+/).filter(t=>t.length>0&&"â€‹"!==t).map(t=>`<email-item${function(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}(t)?"":' class="invalid"'}>\n                    <span>${t}</span>\n                    <i class="close">&#215</i>\n                </email-item>`).join("")),this.textInput.value="",this.textInput.setAttribute("placeholder","Add more people..."),this.textarea.appendChild(this.textInput),this.dispatchEvent(this.editorChangeEvt))},this.getEmailsCount=()=>this.querySelectorAll("email-item:not(.invalid)").length,this.addEmail=()=>{this.textInput.value=`${["bgates","sjobs","jbezos","mzuckerberg","emusk","toreilly","lpage","jive","rstallman","ltrovalds"][i()]}@${["gmail","microsoft","miro","facebook","linkedin","amazon","tesla","medium","linux","apple"][i()]}.com`,this.populateArea()},this.innerHTML='<div class="text-area">\n            <input type="text" placeholder="Add people..."></input>\n        </div>',this.textarea=this.querySelector("div"),this.textInput=this.querySelector("input"),this.textInput.addEventListener("blur",this.handleBlur),this.textInput.addEventListener("keypress",this.handleKey),this.textInput.addEventListener("paste",this.handlePaste),this.textarea.addEventListener("click",this.handleAreaClick),this.editorChangeEvt=new CustomEvent("editor:change"),this.textInput.focus()}}class r extends HTMLElement{constructor(){super(),this.closeClickHandler=()=>{this.remove()},this.querySelector(".close").addEventListener("click",this.closeClickHandler)}}n(0);window.customElements.define("email-editor",s),window.customElements.define("email-item",r)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2VtYWlsLWVkaXRvci9lbWFpbC1lZGl0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZW1haWwtaXRlbS9lbWFpbC1pdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImdldFJhbmRvbURpZ2l0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiSFRNTEVsZW1lbnQiLCJzdXBlciIsImhhbmRsZUtleSIsImUiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJ0aGlzIiwicG9wdWxhdGVBcmVhIiwidGV4dElucHV0IiwiZm9jdXMiLCJoYW5kbGVCbHVyIiwiaGFuZGxlUGFzdGUiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwiaGFuZGxlQXJlYUNsaWNrIiwidGFyZ2V0IiwidGV4dGFyZWEiLCJ0ZXh0IiwibGVuZ3RoIiwicmVtb3ZlIiwiaW5uZXJIVE1MIiwic3BsaXQiLCJmaWx0ZXIiLCJlbCIsIm1hcCIsImVtYWlsIiwidGVzdCIsImlzVmFsaWRFbWFpbCIsImpvaW4iLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImRpc3BhdGNoRXZlbnQiLCJlZGl0b3JDaGFuZ2VFdnQiLCJnZXRFbWFpbHNDb3VudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFbWFpbCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiQ3VzdG9tRXZlbnQiLCJFbWFpbEl0ZW0iLCJjbG9zZUNsaWNrSGFuZGxlciIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFN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LFVBQVVDLFNDZlIsTUFBTThCLFVBQWtCdkMsWUFFbkMsY0FDSUMsUUFHSSxLQUFBdUMsa0JBQW9CLEtBQ3hCbEMsS0FBS2EsVUFITGIsS0FBSzhCLGNBQWMsVUFBVUMsaUJBQWlCLFFBQVMvQixLQUFLa0Msb0IsS0NBcEU1QixPQUFPNkIsZUFBZUMsT0FBTyxlQUFnQixHQUM3QzlCLE9BQU82QixlQUFlQyxPQUFPLGFBQWNIIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsIlxuICAgIGV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVTdHJpbmcodGV4dDogc3RyaW5nKTpzdHJpbmdbXSB7XG4gICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KC9bXFxzLCBdKy8pLmZpbHRlcihlbCA9PiBlbC5sZW5ndGggPiAwICYmIGVsICE9PSBcIuKAi1wiKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gcGFyc2VFbWFpbHNIdG1sKGVtYWlsczogc3RyaW5nW10pOnN0cmluZyB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBlbWFpbHMubWFwKChlbWFpbCkgPT4gKFxuICAgICAgICAgICAgICAgIGA8ZW1haWwtaXRlbSR7aXNWYWxpZEVtYWlsKGVtYWlsKT8gJycgOiAnIGNsYXNzPVwiaW52YWxpZFwiJ30+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPiR7ZW1haWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImNsb3NlXCI+JiMyMTU8L2k+XG4gICAgICAgICAgICAgICAgPC9lbWFpbC1pdGVtPmBcbiAgICAgICAgICAgICkpLmpvaW4oJycpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbURpZ2l0KCk6bnVtYmVyIHtcbiAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRW1haWwoZW1haWw6c3RyaW5nKTpib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvLnRlc3QoZW1haWwpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21FbWFpbCgpOnN0cmluZyB7XG4gICAgICAgIGNvbnN0IHBlb3BsZSA9IFsnYmdhdGVzJywgJ3Nqb2JzJywgJ2piZXpvcycsICdtenVja2VyYmVyZycsIFxuICAgICAgICAnZW11c2snLCAndG9yZWlsbHknLCAnbHBhZ2UnLCAnaml2ZScsICdyc3RhbGxtYW4nLCAnbHRyb3ZhbGRzJ107XG4gICAgICAgIGNvbnN0IGRvbWFpbnMgPSBbJ2dtYWlsJywgJ21pY3Jvc29mdCcsICdtaXJvJywgJ2ZhY2Vib29rJywgJ2xpbmtlZGluJyxcbiAgICAgICAgJ2FtYXpvbicsICd0ZXNsYScsICdtZWRpdW0nLCAnbGludXgnLCAnYXBwbGUnXTtcbiAgICAgICAgcmV0dXJuIGAke3Blb3BsZVtnZXRSYW5kb21EaWdpdCgpXX1AJHtkb21haW5zW2dldFJhbmRvbURpZ2l0KCldfS5jb21gO1xuICAgIH0iLCJpbXBvcnQgeyBzZXJpYWxpemVTdHJpbmcsIHBhcnNlRW1haWxzSHRtbCwgZ2V0UmFuZG9tRW1haWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbWFpbEVkaXRvciBleHRlbmRzIEhUTUxFbGVtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwidGV4dC1hcmVhXCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkFkZCBwZW9wbGUuLi5cIj48L2lucHV0PlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgICB0aGlzLnRleHRhcmVhID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdkaXYnKTtcbiAgICAgICAgdGhpcy50ZXh0SW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICAgIHRoaXMudGV4dElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLmhhbmRsZUJsdXIpO1xuICAgICAgICB0aGlzLnRleHRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMuaGFuZGxlS2V5KTtcbiAgICAgICAgdGhpcy50ZXh0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCB0aGlzLmhhbmRsZVBhc3RlKTtcbiAgICAgICAgdGhpcy50ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQXJlYUNsaWNrKTtcbiAgICAgICAgdGhpcy5lZGl0b3JDaGFuZ2VFdnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2VkaXRvcjpjaGFuZ2UnKTtcbiAgICAgICAgdGhpcy50ZXh0SW5wdXQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRleHRhcmVhOiBIVE1MRGl2RWxlbWVudDtcbiAgICBwcml2YXRlIHRleHRJbnB1dDogSFRNTElucHV0RWxlbWVudDtcbiAgICBwcml2YXRlIGVkaXRvckNoYW5nZUV2dDogQ3VzdG9tRXZlbnQ7XG5cblxuICAgIHByaXZhdGUgaGFuZGxlS2V5ID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgNDQ6Ly9jb21tYVxuICAgICAgICAgICAgY2FzZSAzMjovL3NwYWNlXG4gICAgICAgICAgICBjYXNlIDEzOi8vZW50ZXJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1bGF0ZUFyZWEoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRJbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlQmx1ciA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5wb3B1bGF0ZUFyZWEoKTtcblxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlUGFzdGUgPSAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucG9wdWxhdGVBcmVhKCk7XG4gICAgICAgICAgICB0aGlzLnRleHRJbnB1dC5mb2N1cygpO1xuICAgICAgICB9LCA1KTtcblxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlQXJlYUNsaWNrID0gKGU6VUlFdmVudCkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMudGV4dGFyZWEpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHBvcHVsYXRlQXJlYSA9ICgpID0+IHtcbiAgICAgICAgaWYoIXRoaXMudGV4dElucHV0LnZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dElucHV0LnJlbW92ZSgpO1xuICAgICAgICB0aGlzLnRleHRhcmVhLmlubmVySFRNTCArPSBwYXJzZUVtYWlsc0h0bWwoc2VyaWFsaXplU3RyaW5nKHRoaXMudGV4dElucHV0LnZhbHVlKSk7XG4gICAgICAgIHRoaXMudGV4dElucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIHRoaXMudGV4dElucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnQWRkIG1vcmUgcGVvcGxlLi4uJyk7XG4gICAgICAgIHRoaXMudGV4dGFyZWEuYXBwZW5kQ2hpbGQodGhpcy50ZXh0SW5wdXQpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy5lZGl0b3JDaGFuZ2VFdnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFbWFpbHNDb3VudCA9ICgpID0+IChcbiAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdlbWFpbC1pdGVtOm5vdCguaW52YWxpZCknKS5sZW5ndGhcbiAgICApO1xuXG4gICAgcHVibGljIGFkZEVtYWlsID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnRleHRJbnB1dC52YWx1ZSA9IGdldFJhbmRvbUVtYWlsKCk7XG4gICAgICAgIHRoaXMucG9wdWxhdGVBcmVhKCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW1haWxJdGVtIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcignLmNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlQ2xpY2tIYW5kbGVyKTtcbiAgICB9XG4gICAgcHJpdmF0ZSBjbG9zZUNsaWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICB9XG59IiwiaW1wb3J0IEVtYWlsRWRpdG9yIGZyb20gJy4vY29tcG9uZW50cy9lbWFpbC1lZGl0b3IvZW1haWwtZWRpdG9yJztcbmltcG9ydCBFbWFpbEl0ZW0gZnJvbSAnLi9jb21wb25lbnRzL2VtYWlsLWl0ZW0vZW1haWwtaXRlbSdcbmltcG9ydCAnLi9zdHlsZXMvc3R5bGVzLnNjc3MnO1xuXG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdlbWFpbC1lZGl0b3InLCBFbWFpbEVkaXRvcik7XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdlbWFpbC1pdGVtJywgRW1haWxJdGVtKTsiXSwic291cmNlUm9vdCI6IiJ9